\documentclass{beamer}

\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage[T1]{fontenc}
\usepackage[danish,english]{babel}
\usepackage{graphicx}
\usepackage[a4paper,margin=2.7cm]{geometry}

\usepackage[sc]{mathpazo} % consider options: osf, sc

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{enumerate}
\usepackage{array}

\usepackage{amsthm}
\usepackage{algorithmic}
\usepackage{algorithm}
\usepackage{float}
\usepackage{xcolor}
\usepackage{wrapfig}
\usepackage{subcaption}

\floatname{algorithm}{Procedure}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

\newcommand{\alggoto}[1]{\textbf{goto} \autoref{#1}}

\newcommand{\alginput}[1]{\hspace*{\algorithmicindent}\algorithmicrequire{#1}}
\newcommand{\algoutput}[1]{\hspace*{\algorithmicindent}\algorithmicensure{#1}}
\newcommand{\algio}[2]{
	\alginput{#1}\\
	\algoutput{#2}
}

\usepackage{tikz,tkz-graph,tkz-berge,tkz-euclide}
\renewcommand{\vec}[1]{\ensuremath {\mathbf #1}}
\newtheorem{thm}{Theorem}[section]
\newtheorem{cor}{Corollary}[thm]
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{definition}{Definition}[section]
\newtheorem{example}[thm]{Example}


%Information to be included in the title page:
\title{Algorithm for Finding linkage in a Totally $\phi$-decomposable Digraph}
\author{Gabriella Juhl Jensen}
\institute{JÃ¸rgen Bang-Jensen}
\date{2021}



\begin{document}

\frame{\titlepage}

\begin{frame}
\frametitle{Decomposable Digraph}
A digraph $D=S[H_1,\dots , H_s]$ is called Decomposable where $|S|=s$ and each $H_i$ are disjoint digraphs replacing every vertex in $S$. 
The digraphs $H_i$ will in this presentation be called \textbf{hauses}.
For a set of digraphs $\phi$ we can talk about $\phi$-decomposable digraphs. 
For a digraph $D=S[H_1,\dots ,H_s]$ to be $\phi$-decomposable either $D\in \phi$ or $S\in \phi$.\\

For a digraph $D=S[H_1,\dots ,H_s]$ to be  totally $\phi$-decomposable it has to be $\phi$-decomposable and if $D\notin \phi$, then $S\in \phi$ and each $H_i$ has to be totally $\phi$-decomposable for $i=1,\dots ,s$.
\end{frame}

\begin{frame}
\frametitle{The weak linkage Problem}
Given two pair of vertices $s_1,t_1$ and $s_2,t_2$ finding arc-disjoint paths between each pair is 2-weak linkage problem. Then the $k$-weak linkage problem is finding k arc-disjoint paths between k pair of terminals.
where a terminal  pair is a source and a zink in the paths of the solution of the linkage problem.
When talking about linkage problem for decomposable digraph, we can have hauses with terminals in and some without any terminals. 
The hauses with no terminals in is called \textbf{clean hauses}.
Then a terminal pair can either be inside the same hauses or in different hauses. If a terminal pair is contained inside the same hause it is called an internal pair other wise we call the pair external.
The same with a path if it is fully containd inside a hause it is called an internal path other wise it is external.
you can have an external path for a internal piar if the path go out of the hause and in agian.
\end{frame}

\begin{frame}
\frametitle{Notation for the weak linkage problem}
Every thing on this list is denoted like this unless it is specifed noot to be like that.
\begin{itemize}
    \item a natruel number $k$ is going to repricent the number of terminal pairs there in the linkage problem.
    \item $\Pi$ denote the set of terminal pairs $(s_1,t_1),\dots ,(s_k,t_k)$.
    \item $D$ is the totally $\phi$-decomposable digraph where each hause is denoted $H_i$ for $i=1,\dots ,s$.
\end{itemize}
\end{frame}

\begin{frame}
\frametitle{Bombproof sets}
\begin{definition}~\cite{bangJGT85}
    We say that a class of digraphs $\phi$ is Bombproof is there exsists a polynomial algorithm $\mathcal{A}_\phi$ to find a totally $\phi$-decomposition of every totally $\phi$-decomposable digraph and, for every integer $c$, there exists a polynomial algorithm  $\mathcal{B}_\phi$ to decide the weak $k$-linkage problem for the class
    \begin{equation}
        \phi(c):=\bigcup_{D\in \phi}D(c) 
    \end{equation}
\end{definition}
for a integer $c$, the class denoted $D(c)$ is the for a digraph $D$ you can first add as many parallel arcs to arcs that already exists in $D$ you can blow up $b$ vertices where $0\leq b\leq c$ the digraph that is blown up to has a size $\leq c$. 
\end{frame}

\begin{frame}
    \frametitle{Contraction clean vertices}
    \begin{lemma}~\cite{bangJGT85}
        Let $D$ be a digraph, $\Pi$ a list of $k$ terminal pairs and $H\subset D$ a clean module with respect to $\Pi$. Let $D'$ be the contraction of $H$ into a single vertex $h$. Then $D$ has a waek $\Pi$-linkage if and only if $D'$ has a weak $\Pi$-linkage.  
    \end{lemma}
\end{frame}

\begin{frame}
    \frametitle{Max inside Hause External Path}
    \begin{lemma}
        Let $D=S[H_1,\dots H_s]$ be a decomposable digraph, let $\Pi'$ be a list of $h$ terminal pair and let $F$ be a set of arcs in $D$ satisfying that $d^-_F(v),d^+_F(v) \leq r$ for all $v \in V(D)$. If $(D\backslash F,\Pi')$ has a weak linkage, then it has a weak linkage $P_1,\dots , P_h$ such that, we have $|V\left( \bigcup_{i\in \openE} P_i\cap H_j \right)|\leq 2h(h+r)$, for every $j\in [1,\dots,s]$, where $\openE$ denotes the set of indeces $i$ for wich $P_i$ is external.
    \end{lemma}
\end{frame}
\begin{frame}
    \frametitle{Algorithm for Digraph with Deleted Arcs}
    \begin{lemma}
        Let $\mathcal{C}$ be a class of digraphs for which there exists an algorithm $\mathcal{A}$ to decide the weak k-linkage problem, whose running time is bounded by $f(n,k)$. Let $D=(V,A)$ be a digraph, $\Pi$ a list of $k$ pairs of terminals and $F\subseteq V\times V$ such that $D':= (V,A\cup F)$ is a member of $\mathcal{C}$. There exists an algorithm  $\mathcal{A}^-$, whose running time is bounded by $f(n,k+|F|)$, to decide whether $D$ has a weak $\Pi$-linkage.
    \end{lemma}
\end{frame}
\begin{frame}
    \frametitle{The theorem of the main Algorithm}
    \begin{thm}
        Let $\phi$ be a bombproof class of digraph. There is a polynomial algorithm $\mathcal{M}$ that takes as input a 5tuple $[D,k,k',\Pi,F]$ where $D$ is a totally $\phi$-decomposable digraph, $k,k'$ are natural numbers with $k'\leq k$,$\Pi$ is a list of $k'$ terminal pairs and $F\subseteq A(D)$ is a set of arcs satiesfying 
        \begin{equation}
            d_F^-(v),d_F^+(v)\leq k-k' \text{for all} v\in V(D)
        \end{equation}
        \begin{equation*}
            |F|\leq (k-k')2k
        \end{equation*}
        and decides wheter $D\backslash F$ contains a weak $\Pi$-linkage.
    \end{thm}
\end{frame}

\begin{frame}
    \frametitle{The main algortihm}
    The main algorithm for this part is a proof of a theorem that tells that there exists a algorithm for finding the $k$-linkage in special kind of graphs. This result is found by ... in .... .
\begin{thm}
    Let $\phi$ be a bombproof class of digraphs. There is a polynomial algorithm $\mathcal{M}$ that takes as input a 5 tuple $[D,k,k',\Pi, F]$, where $D$ is a totally $\phi$-decomposable digraph, $k$,$k'$ are natrual numbers with $k'\leq k$, $\Pi$ is a list of $k'$ terminal pairs and $F\subseteq A(D)$ is a set of arcs satisfying
    \begin{align}
        d^-_F(v),d^+_F(v)&\leq k-k' \ \forall v\in V(D)\\
        |F|&\leq (k-k')2k \nonumber
    \end{align}
    and decides wheter $D\backslash F$ contains a waek $\Pi$-linkage.
    \label{thm:mainalgo}
\end{thm}
\end{frame}

\begin{frame}[allowframebreaks]{Search}
    \frametitle{The main algortihm}
    To proof \autoref{thm:mainalgo} we first state the algorithm $\mathcal{M}$ then we prove that it works, and last that the time for the algorithm is polynomial.
    \captionof{algorithm}{The main algorithm $\mathcal{M}$}

        \begin{algorithmic}[1]
            \algio{
                Digraph $D$, two natural numbers $k$ and $k'$ where $k'\leq k$, a list of $k'$ terminal pairs $\Pi$, A set of arcs $F\subseteq A(D)$ satiesfying:
                \begin{align*}
                    d^-_F(v),d^+_F(v)&\leq k-k' \ \forall v\in V(D)\\
                    |F|&\leq (k-k')2k
                \end{align*}
            }{
                Either "No weak-linkage exists" or "there exists a weak-linkage in $(D,\Pi)$ with arc set $F$."
            }
            \STATE If $\Pi=\emptyset$ output that a solution exists and return
            \STATE Run $\mathcal{A}_\phi$ to find a total $\phi$-decomposition of $D=S[H_1,\dots,H_s]$.
            \STATE If this decomposition is trivial that is $D=S$, then  $D\in \phi\subset \phi(1)$, so run $\mathcal{B}^-_{\phi}$ on $(D\backslash F,\Pi)$ to decide the problem and return.
            \STATE Find among $H_1,\dots, H_s$ those hauses $K_1,\dots , K_l$ that contain at least one terminal. Let $D'$ be obtaint by contracting all the clean hauses. Let $F'$ be the set of arcs obtaint from $F$ after the contraction.
            \STATE Let $\Pi^e\subset \Pi$ $(\Pi^i\subset \Pi)$ be the list of external (internal) pairs $(s_q,t_q)\in \Pi$.
            \FOR{every partion of $\Pi^i=\Pi_1\cup\Pi_2$ look for external paths linking the pairs in $\Pi^e\cup \Pi$ and internal pairs in $\Pi_2$}
                \IF{$\Pi^e\cup \Pi_1=\emptyset$, then for $i=1,\dots,l:$} 
                    \STATE run $\mathcal{M}$ recursively on input $[K_i,k,k'_i,\Pi \cap K_i,F\capA(K_i)]$, where $\Pi\cap K_i$ denotes the list of terminal pairs that lie inside K_i and $k'_i$ is the number of those pairs.
                \ENDIF
                \IF{$\Pi^e\cup\Pi_1\neq \emptyset$}
                    \STATE let $k'_i$ be the number of pairs in $\Pi_2\cap K_i$
                    \FOR{each possible choice of $l$ vertex sets $W_i\subseteq V(K_i)$,$i=1,\dots,l$ of size $\min \lbrace |V(K_i)|,2(k'-k'_i)(k-k')\rbrace$ and arc sets $F_i\subseteq A(K_i\left< W_i\right>)\backslash F$, $i=1,\dots ,l$ with $F_i$ satisfying \begin{align}
                        d^-_{F_i\cup(F\capA(K_i))}(v),&d^+_{F_i\cup(F\capA(K_i))}(v)\leq k'-k'_i.\\
                        |F_i|\leq &2(k'-k'_i)(k-k')
                    \end{align}}
                        \FOR{every $K_i$}
                            \STATE remobe all the vertices of $V(K_i)\backslash W_i$ and then all remaining arcs except those in $F_i$.
                        \ENDFOR
                        \STATE Define $D''$ to be the digraph obtaint from $D'$ with this procedure.
                        \STATE Run $B_{\phi}^-$ on $(D''\F',\Pi^e\cup\Pi_1)$.
                        \FOR{$i=1,\dots,l$}
                            \STATE run $mathcal{M}$ recursively on input $[K_i,k,k'_i,\Pi_2\cap K_i,F_i\cup(F\capA(K_i))]$.
                        \ENDFOR 
                    \ENDFOR
                \ENDIF
               % \REMARK If step ??? all intances examined are linked or at step ??? there is a choice of $W_i,F_i,i=1,\dots,l$ such that all instances examined are linked, then output that a weak linkage exists and return.
            \ENDFOR 
            \IF{all choices of $\Pi_1,\Pi_2$ have been consideredwithout verifying the existens of any weak linkage, then output that no weak linkage exists.}
        \end{algorithmic}
\end{frame}


%\begin{frame}
%    \frametitle{The main algortihm}
%    
%\end{frame}

%\begin{frame}
%    \frametitle{The main algortihm}
%    
%\end{frame}

\bibliographystyle{unsrt}
\bibliography{bib}
\end{document}